<%#= turbo_frame_tag "tasks" do %>
<%= turbo_stream_from "task_crud" %>
<%= turbo_frame_tag dom_id(task, "id") do %>
  <div class="border p-4 mb-2 flex justify-between items-center">
    <div>
      <h3 class="font-bold"><%= task.title %></h3>
      <p class="text-gray-600"><%= task.description %></p>
      <span class="text-sm bg-gray-200 px-2 py-1 rounded">
        <%= task.status %>
      </span>
    </div>

    <div class="flex space-x-2">
      <%#= link_to "Edit", edit_article_path(article), data: { turbo_stream: true } %>
      <%#= link_to "Edit", edit_project_task_path(@project, task), 
        data: { turbo_frame: dom_id(task, :form), turbo_stream: true }, 
        class: "text-blue-500" %>
      <% project = project || task.project %>
      <%= link_to "Edit", edit_project_task_path(project, task), class: "text-blue-500" %>

      <%= link_to "Delete", project_task_path(project, task), 
        data: { turbo_method: :delete, turbo_confirm: "Are you sure?" }, 
        class: "text-red-500 hover:text-red-700" %>
    </div>
  </div>
<% end %>